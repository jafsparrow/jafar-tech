<div class="select-product-view-container">
  <div class="product-image-container" *ngIf="product!.image">
    <img [src]="product!.image" alt="" class="product-image" />
  </div>

  <div class="product-title-container">
    <h3>
      {{ product?.name | titlecase }}
    </h3>
    <p>
      {{ product?.description }}
    </p>
  </div>

  <mat-divider></mat-divider>

  <div
    class="product-modifier-container"
    *ngIf="product?.modifierGroups as modifierGroups"
  >
    <p>Choose from following</p>

    <ng-container *ngFor="let modifierGroup of modifierGroups; let i = index">
      <p id="example-radio-group-label">{{ modifierGroup.description }}</p>
      <mat-radio-group
        name="{{ i.toString() }}"
        *ngFor="let modifier of modifierGroup.modifiers; let j = index"
        (change)="radioSelectionChange($event, modifier, j)"
      >
        <mat-radio-button
          class="modifier-radio-group"
          [value]="modifier.description"
        >
          <span>{{ modifier.description }}</span>
          <span class="modifier-price"> - {{ modifier.price }}</span>
        </mat-radio-button>
      </mat-radio-group>
    </ng-container>
  </div>

  <mat-divider></mat-divider>
  <div class="count-control-container">
    <qr-ui-count-control
      [count]="selectedCount"
      (countChange)="onChangeSelectedCount($event)"
    ></qr-ui-count-control>
  </div>

  <div>
    <p class="error-message" *ngIf="error">
      {{ error }}
    </p>
    <button
      mat-raised-button
      color="primary"
      class="add-button"
      (click)="clickToCart()"
    >
      Add for <span class="add-button-text"> {{ modifierAppliedTotal }}</span>
    </button>
  </div>

  <div class="close-button">
    <button mat-button mat-dialog-close (click)="closeButtonClicked()">
      Back to Menu
    </button>
  </div>
</div>
